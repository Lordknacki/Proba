<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Statistiques des matchs de football</title>
    <script>
        // Les données des équipes et leurs buts totaux sur la dernière saison
        const teamGoals = {
            "FC Porto": 63,
            "SL Benfica": 77,
            "SC Braga": 71,
            "Sporting CP": 96,
            "Rio Ave FC": 38,
            "FC Famalicão": 37,
            "Vitória SC": 52,
            "Moreirense FC": 36,
            "Santa Clara": 48,
            "Gil Vicente FC": 42,
            "Estoril Praia": 49,
            "Portimonense": 39,
            "Boavista FC": 39,
            "Nacional": 66,
            "Farense": 46,
            "Arouca": 54,
            "Nacional": 66,
            "AVS - Futebol SAF": 50,
            "Santa Clara": 48
        };

        function getGoalsPerMatch(goals) {
            return (goals / 34).toFixed(2);
        }

        function factorial(n) {
            return n ? n * factorial(n - 1) : 1;
        }

        function poissonProbability(lambda, k) {
            return Math.exp(-lambda) * Math.pow(lambda, k) / factorial(k);
        }

        function calculateOdds() {
            var homeTeam = document.getElementById('homeTeam').value;
            var awayTeam = document.getElementById('awayTeam').value;
            var lambda = parseFloat(getGoalsPerMatch(teamGoals[homeTeam]));
            var mu = parseFloat(getGoalsPerMatch(teamGoals[awayTeam]));

            var probHome = poissonProbability(lambda, 4);
            var probAway = poissonProbability(mu, 2);
            var prob42 = probHome * probAway;
            var odds42 = prob42 > 0 ? (1 / prob42).toFixed(2) : 'Infini';

            document.getElementById('result').innerHTML = 'Probabilité du score 4-2 pour ' + homeTeam + ' contre ' + awayTeam + ' : ' + (prob42 * 100).toFixed(2) + '%' +
                '<br>Cotes pour un score de 4-2 : ' + odds42;
        }
    </script>
</head>
<body>
    <h1>Comparer les buts moyens par match des équipes et chances d'un score 4-2</h1>
    <label for="team1">Choisissez la première équipe:</label>
    <select id="team1">
        <option value="Arouca">Arouca</option>
        <option value="Belenenses">Belenenses</option>
        <option value="Benfica">Benfica</option>
        <option value="Boavista">Boavista</option>
        <option value="Braga">Braga</option>
        <option value="Estoril">Estoril</option>
        <option value="Famalicão">Famalicão</option>
        <option value="Farense">Farense</option>
        <option value="Gil Vicente">Gil Vicente</option>
        <option value="Marítimo">Marítimo</option>
        <option value="Moreirense">Moreirense</option>
        <option value="Nacional">Nacional</option>
        <option value="Paços de Ferreira">Paços de Ferreira</option>
        <option value="Portimonense">Portimonense</option>
        <option value="Porto">Porto</option>
        <option value="Rio Ave">Rio Ave</option>
        <option value="Sporting CP">Sporting CP</option>
        <option value="Vitória SC">Vitória SC</option>
    </select>

    <label for="team2">Choisissez la deuxième équipe:</label>
    <select id="team2">
        <option value="Arouca">Arouca</option>
        <option value="Belenenses">Belenenses</option>
        <option value="Benfica">Benfica</option>
        <option value="Boavista">Boavista</option>
        <option value="Braga">Braga</option>
        <option value="Estoril">Estoril</option>
        <option value="Famalicão">Famalicão</option>
        <option value="Farense">Farense</option>
        <option value="Gil Vicente">Gil Vicente</option>
        <option value="Marítimo">Marítimo</option>
        <option value="Moreirense">Moreirense</option>
        <option value="Nacional">Nacional</option>
        <option value="Paços de Ferreira">Paços de Ferreira</option>
        <option value="Portimonense">Portimonense</option>
        <option value="Porto">Porto</option>
        <option value="Rio Ave">Rio Ave</option>
        <option value="Sporting CP">Sporting CP</option>
        <option value="Vitória SC">Vitória SC</option>
    </select>

    <button onclick="compareGoals()">Comparer les buts</button>

    <p id="result1"></p>
    <p id="result2"></p>
    <p id="combined"></p>
    <p id="scoreSuccess"></p>
    <p id="odds"></p>
</body>
</html>
